<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Piano widgets: disappearing ribbon</title>
  <link rel="stylesheet" href="../style.css">
</head>

<body class="inner">
<header class="header">
  <nav class="nav">
    <a class="nav__logo" href="/" title="Home">
      <span class="visually-hidden">Home</span>
      <img src="../img/logo.svg" width="59" height="21" alt="Piano">
    </a>
    <ul class="nav__list list">
      <li class="nav__item">
        <a class="nav__link" href="/">Home</a>
      </li>
      <li class="nav__item">
        <a class="nav__link" href="../all-demos.html">Demos</a>
      </li>
      <li class="nav__item">
        <a class="nav__link" href="../all-guides.html">Guides</a>
      </li>
      <li class="nav__item">
        <a class="nav__link" href="https://docs.piano.io" target="_blank">Docs website</a>
      </li>
    </ul>
  </nav>
</header>
<main class="content container">
  <section class="content__section section">
    <h1 class="content__headline">Ribbon: appearing on scroll</h1>
    <p class="content__text">Ribbons are typical inline templates being inserted to a <code class="content__code">&lt;div&gt;</code> container on the client end. All styles, animation effects, and other magic should also be described on the client end. Usually it sticks to a page bottom (or top&nbsp;&mdash; depends on which option you prefer only) and looks like a narrow strip with a catchy copy and a CTA. To get a clearer idea of what it is please see the demo.</p>
    <p class="content__action">
      <a class="content__button button unbutton" href="disappearing-ribbon-demo-1.html">Demo</a>
      <span class="content__footnote">To return from the demo page, please use the browser Back button. We were trying to make the demo as close to real life as possible, and did not provide any link to go back intentionally.</span>
    </p>
    <h2 class="content__small-headline">How-to</h2>
    <nav class="content__menu">
      <a class="content__item link" href="#set-up-a-template">Set up a template</a>
      <a class="content__item link" href="#make-it-disappear">Make it (dis)appear on scroll</a>
      <a class="content__item link" href="#specify-sizes">Specify sizes</a>
    </nav>
    <h3 class="content__small-headline content__small-headline--secondary" id="set-up-a-template">Setting up a template</h3>
    <p class="content__text">
      There're 2 ways to set up an inline template: <a class="content__link link" href="https://docs.piano.io/javascript-offer/" target="_blank">on your end</a> or <a class="content__link link" href="https://docs.piano.io/actions/#templatetab" target="_blank">in Composer</a>. More information on this you will find in our documentation, in the links just mentioned. Please pay attention to an inline type of templates.
    </p>
    <p class="content__text">Speaking about a ribbon specifically. Since you want the container to be "glued" to a top/bottom of your page, you need to add these styles to its class (example class here is called <code class="content__code">.piano-container</code>) in your CSS:</p>
    <pre class="content__code">
      .piano-container {
        position: fixed;
      /* for bottom position */
        bottom: 0;
        left: 0;
        width: 100%;
      /* shadow is an optional property */
        box-shadow: 0 0 28px 0 rgba(51, 51, 51, 0.1);
      }</pre>
    <p class="content__text">To position the ribbon at the top of you page, replace "bottom" with "top" in the sample above (line 4). Also, a shadow (<code class="content__code">.box-shadow</code> property, line 8) is optional. But it helps to distinguish the ribbon from the rest of the content. This role could be also played by a contrast background color or a border.</p>
    <p class="content__text">Don't forget to order your layers properly if needed by adjusting <code class="content__code">z-index</code> property.</p>
    <h3 class="content__small-headline content__small-headline--secondary" id="make-it-disappear">Making it (dis)appear on scroll</h3>
    <p class="content__text">A ribbon can hide by default and show up on a certain scroll position (the most common scenario shown in the demo and described in the guidelines), or disappear again on another scroll position, or oppositely&nbsp;&mdash; show up by default and disappear on scroll. Anything is possible, you just need a few more lines of Javascript on your end.</p>
    <p class="content__text">Basically you need to listen to scroll event and play with visibility of container where a Piano template is being parsed. The easiest way is to switch this container's <code class="content__code">hidden</code> attribute. Or, alternatively, you may add/remove a CSS class with animation to make a ribbon, for example, slide in/out smoothly.</p>
    <pre class="content__code">
    document.addEventListener('scroll', event => {
      document.querySelector('.piano-container').hidden = window.scrollY < 200;
    });</pre>
    <p class="content__text">In your template you don't need to change anything.</p>
    <h3 class="content__small-headline content__small-headline--secondary" id="specify-sizes">Specifying a template size</h3>
    <p class="content__text">Piano inline templates simply take 100% of a parent container width. By the parent container we mean that <code class="content__code">&lt;div&gt;</code> you specify on your end for Piano template to show up. Regarding its height, the browser counts it automatically according to the template contents. So nothing needs to be defined. Oppositely, please, let Piano template be parsed freely&nbsp;&mdash; things like setting up a fixed height would prevent it from displaying correctly.</p>
  </section>
</main>

<footer class="footer">
  <img class="footer__logo" src="../img/logo--white.svg" width="82" height="29" alt="Piano">
  <p class="footer__copyright">
    <small>&copy;</small>
    <span id="footer-year">2020</span>
    Piano Software Inc.
  </p>
</footer>

<script>(function(src){var a=document.createElement("script");a.type="text/javascript";a.async=true;a.src=src;var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})("https://sandbox.tinypass.com/xbuilder/experience/load?aid=mHtB14Aosu");</script>

<script>
    document.querySelector("#footer-year").innerText = new Date().getFullYear();
</script>

</body>

</html>
